(function(t){function e(e){for(var r,s,i=e[0],l=e[1],c=e[2],f=0,d=[];f<i.length;f++)s=i[f],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},o=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/swn-tables/";var i=this["webpackJsonp"]=this["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1:function(t,e){},2:function(t,e){},2149:function(t,e,n){"use strict";n("d6be")},4708:function(t,e,n){"use strict";n("e038")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],s=n("2877"),i={},l=Object(s["a"])(i,a,o,!1,null,null,null),c=l.exports,u=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"section"},[n("div",{staticClass:"container"},[n("b-message",{attrs:{type:"is-info"}},[t._v("This is a work in progress. If you have any problems/suggestions please comment over at "),n("a",{attrs:{href:"https://github.com/wellcaffeinated/swn-tables/issues"}},[t._v("github issues")]),t._v(".")]),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("RandomTable",{attrs:{title:"Random Artifact",spec:t.itemsTableSpec,"roll-target":"#artifact"}}),n("RandomTable",{attrs:{title:"Random Person",spec:t.personTableSpec,"roll-target":"#person"}}),n("RandomTable",{attrs:{title:"Random NPC",spec:t.npcTableSpec,"roll-target":"#npc"}}),n("RandomTable",{attrs:{title:"Random Patron",spec:t.patronTableSpec,"roll-target":"#patron"}}),n("RandomTable",{attrs:{title:"Random Beast",spec:t.beastTableSpec,"roll-target":"#beast"}})],1),n("div",{staticClass:"column"},[n("RollBox")],1)]),n("h2",{staticClass:"title"},[t._v("Weapons")]),n("WeaponsTable")],1)])])},d=[],p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item-table"},[n("b-field",{attrs:{grouped:""}},[n("b-field",[n("b-input",{attrs:{placeholder:"filter...","icon-right":"close-circle","icon-right-clickable":""},on:{"icon-right-click":function(e){t.search=""}},nativeOn:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.search=""}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("b-field",[n("b-button",{on:{click:t.resetSorting}},[t._v("Clear Sorting")])],1),n("b-field",[n("b-button",{on:{click:t.randomFromSelection}},[t._v("Random From Selection")])],1)],1),n("b-table",{ref:"table",attrs:{data:t.rows,"sort-multiple":!0,detailed:"","detail-key":"Name","opened-detailed":t.expanded,"sticky-header":!0,height:800,focusable:"",selected:t.selected},on:{"update:selected":function(e){t.selected=e}},scopedSlots:t._u([{key:"detail",fn:function(e){return[n("article",{staticClass:"details"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-half"},[n("div",{staticClass:"content"},[n("p",[t._v(t._s(e.row.Description))])])]),n("div",{staticClass:"column"},[e.row.Notes?n("b-message",{attrs:{type:"is-info","has-icon":""}},[t._v(t._s(e.row.Notes))]):t._e(),e.row.Tags.length?n("div",{staticClass:"content tag-notes"},[n("strong",[t._v("Tags")]),n("ul",t._l(e.row.Tags,(function(e){return n("li",[n("b-tag",{attrs:{type:"is-primary"}},[t._v(t._s(t._f("startCase")(e)))]),n("span",[t._v(" "+t._s(t.tagDescs[e]))])],1)})),0)]):t._e()],1)]),n("p",[t._v("Source: "+t._s(e.row.Source))])])]}}])},[n("b-table-column",{attrs:{field:"Name",label:"Name",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.Name))]}}])}),n("b-table-column",{attrs:{field:"Damage",label:"Damage",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.Damage))]}}])}),n("b-table-column",{attrs:{field:"Tags",label:"Tags",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("b-taglist",[t._l(e.row.Tags,(function(e){return[n("b-tooltip",{attrs:{label:t.tagDescs[e],multilined:""}},[n("b-tag",{attrs:{type:"is-primary"}},[t._v(t._s(t._f("startCase")(e)))])],1)]}))],2)]}}])}),n("b-table-column",{attrs:{field:"Magazine",label:"Magazine",sortable:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.Magazine))]}}])}),n("b-table-column",{attrs:{field:"Ammo/Power",label:"Ammo / Power",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row["Ammo/Power"]))]}}])}),n("b-table-column",{attrs:{field:"Range",label:"Range",sortable:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.Range))]}}])}),n("b-table-column",{attrs:{field:"Max Range",label:"Max Range",numeric:"",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row["Max Range"]))]}}])}),n("b-table-column",{attrs:{field:"Enc",label:"Enc",sortable:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.Enc))]}}])}),n("b-table-column",{attrs:{field:"Attribute",label:"Attribute",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.Attribute))]}}])}),n("b-table-column",{attrs:{field:"Cost",label:"Cost",sortable:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.Cost))]}}])}),n("b-table-column",{attrs:{field:"Tech",label:"Tech",sortable:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.Tech))]}}])}),n("b-table-column",{attrs:{field:"Class",label:"Class",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.Class))]}}])}),n("b-table-column",{attrs:{field:"Source",label:"Source",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.Source))]}}])})],1)],1)},b=[],h=n("3835"),m=(n("dca8"),n("d81d"),n("1276"),n("ac1f"),n("5319"),n("13d5"),n("4de4"),n("a15b"),n("841c"),n("b64b"),n("6062")),v=n("c707"),g=n.n(v),_=n("0f32"),y=n.n(_),k=n("7d3a"),w=n.n(k),x=n("9380"),C=n.n(x),S=n("9558"),T=n("d4ec"),O=n("262e"),j=n("2caf"),E=n("9072"),F=(n("d3b7"),n("466d"),n("99af"),n("bc3a")),P=n.n(F),R=n("f289"),A=n.n(R),$=n("0f40"),B=n.n($),M=n("6bd8"),D=n.n(M),H=n("6747"),z=n.n(H),N=n("e2a0"),I=n.n(N),W=n("443d"),U=n.n(W);function q(t){return P()(t).then((function(t){return new Promise((function(e,n){A()(t.data,{columns:!0},(function(t,r){if(t)return n(t);e(r)}))}))}))}function J(t,e){var n=[];while(t--)n.push(B()(1,e));return n}var K=function(t){Object(O["a"])(n,t);var e=Object(j["a"])(n);function n(){return Object(T["a"])(this,n),e.call(this,"Unknown Roll Expression")}return n}(Object(E["a"])(Error)),L=Object(S["a"])(/^[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(([\+\x2D]?)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(([0-9]+)|(([0-9]+)?d([0-9]+))))([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*([\+\x2D]+.*))?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,{sign:2,value:4,count:6,dice:7,more:9});function Z(t){var e=t.match(L);if(!e)throw new K;e=e.groups,e.count=void 0===e.count?1:e.count;var n="-"===e.sign?-1:1,r=[];return e.value?r.push({type:"number",value:parseInt(e.value,10)*n}):r=r.concat(J(e.count,e.dice).map((function(t){return{type:"roll",value:t*n,isCrit:t===(0|e.dice),isFail:1===t}}))),e.more&&(r=r.concat(Z(e.more).parts)),{expression:t,parts:r,total:D()(r,"value")}}var V=Object(S["a"])(/^((?:(?!#)[\s\S])+(##)*)?(#((\{([A-Z_a-z]+)\})|(([A-Z_a-z]+))))?(.+)?/,{before:1,id1:6,id2:8,after:9});function G(t,e){var n=Y(t,e),r=Q(n),a=X(n);return{tree:n,result:r,html:a}}function Q(t){return t.reduce((function(t,e){return z()(e.value)?t+Q(e.value):t+e.value}),"")}function X(t){return t.reduce((function(t,e){return z()(e.value)?t+['<span class="rollable">',X(e.value),"</span>"].join(""):t+e.value}),"")}function Y(t,e){if(z()(t)){var n=U()(t)[0];return Y(n,e)}if(!I()(t))return"";var r=t.match(V).groups,a=[];r.before&&(a=[{type:"text",value:r.before}]);var o=r.id1||r.id2;if(o){var s=Y(e[o],e);a.push({type:"roll",id:o,value:s})}if(r.after){var i=Y(r.after,e);a=a.concat(i)}return a}var tt={name:"WeaponsTable",props:{fuzzySearchKeys:{type:Array}},data:function(){return{search:"",searchCommit:"",raw:[],selected:null,tagDescs:{long_reload:"Takes two rounds of effort to reload",burst:"Can use burst fire. A burst gains +2 to hit and damage and uses up three rounds of ammunition.",suppress:"Can Suppress. Double the usual ammunition is fired in one round, and every target in front of the weapon that is not under hard cover is automatically hit for half normal damage. A successful Evasion or Luck saving throw eliminates this damage.",nonlethal:"Does not deal lethal damage if it deals damage at all.",spray_and_pray:"Can target 3x3 area to hit multiple enemies at -3 chance to hit, consumes 10 ammo.",ap1:"Armor Piercing. Decreases targetâ€™s AC by 1."}}},mounted:function(){var t=this;q("data/weapons.csv").then((function(e){t.raw=Object.freeze(g()(e,["Tech","Class"]).map((function(t){var e=t.Tags.replace(/\s/g,"").split(",");return t.Tags=t.Tags?e:[],t})))}))},watch:{search:y()((function(t){this.searchCommit=t}),500)},computed:{expanded:function(){return this.selected?[this.selected.Name]:[]},rows:function(){if(this.searchCommit){var t=this.searchCommit.split(" "),e=t.filter((function(t){return t.indexOf(":")>-1})).reduce((function(t,e){var n=e.split(":"),r=Object(h["a"])(n,2),a=r[0],o=r[1];return t[a]=o,t}),{});t=t.filter((function(t){return-1===t.indexOf(":")})).join(" ");var n=this.raw;return t&&(n=this.fuse.search(t).map((function(t){return t.item}))),C()(n,e)}return this.raw},fuse:function(){return new m["a"](this.raw,{keys:this.fuzzySearchKeys||Object.keys(this.raw[0])})}},methods:{resetSorting:function(){this.$refs.table.resetMultiSorting()},randomFromSelection:function(){var t=this;this.selected=w()(this.rows),this.$nextTick((function(){t.$refs.table.$el.querySelector(".detail").scrollIntoView({block:"center"})}))}}},et=tt,nt=(n("2149"),Object(s["a"])(et,p,b,!1,null,"6dc85ce7",null)),rt=nt.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"box",on:{click:function(e){return t.roll()}}},[n("h6",{staticClass:"title"},[t._v(t._s(t.title))]),t.result.html?n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.result.html)}}):n("div",{staticClass:"content"},[t._v("Click to Roll")])])},ot=[],st={name:"RandomTable",props:{title:String,spec:Object,rollTarget:String},components:{},data:function(){return{result:{}}},methods:{roll:function(){this.result=G(this.rollTarget,this.spec)}}},it=st,lt=Object(s["a"])(it,at,ot,!1,null,"dda39710",null),ct=lt.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rolls box"},[n("div",{staticClass:"level"},[t._m(0),n("div",{staticClass:"level-right"},[n("b-field",{attrs:{grouped:""}},[n("b-field",[n("b-button",{on:{click:function(e){return t.roll("d2")}}},[t._v("d2")])],1),n("b-field",[n("b-button",{on:{click:function(e){return t.roll("d6")}}},[t._v("d6")])],1),n("b-field",[n("b-button",{on:{click:function(e){return t.roll("2d6")}}},[t._v("2d6")])],1),n("b-field",[n("b-button",{on:{click:function(e){return t.roll("d10")}}},[t._v("d10")])],1),n("b-field",[n("b-button",{on:{click:function(e){return t.roll("d20")}}},[t._v("d20")])],1)],1)],1)]),n("div",{ref:"scroll",staticClass:"content scroll",staticStyle:{height:"300px"}},t._l(t.rollHistory,(function(e){return n("Roll",{attrs:{roll:e},on:{click:function(n){return t.roll(e.expression)}}})})),1),n("b-field",[n("b-input",{ref:"input",attrs:{placeholder:"eg: 1d6+2"},nativeOn:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.roll(t.rollExpression)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.historyBack(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.historyForward(e)}]},model:{value:t.rollExpression,callback:function(e){t.rollExpression=e},expression:"rollExpression"}})],1)],1)},ft=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"level-left"},[n("h6",{staticClass:"title"},[t._v("Rolling Board")])])}],dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"roll",class:{crit:t.bigCrit,fail:t.bigFail}},[n("div",{staticClass:"expression",on:{click:function(e){return t.$emit("click")}}},[t._v(t._s(t.roll.expression))]),n("b-collapse",{attrs:{open:!1},scopedSlots:t._u([{key:"trigger",fn:function(e){return[n("div",{staticClass:"total"},[n("b-icon",{attrs:{icon:e.open?"chevron-down":"chevron-right"}}),n("span",[t._v(t._s(t.roll.total))])],1)]}}])},[n("div",{staticClass:"parts"},t._l(t.roll.parts,(function(e){var r;return n("div",{staticClass:"part",class:(r={},r["roll-"+e.type]=!0,r.crit=e.isCrit,r.fail=e.isFail,r)},[n("span",[t._v(t._s(e.value))])])})),0)])],1)},pt=[],bt=n("2657"),ht=n.n(bt),mt={name:"Roll",props:{roll:Object},computed:{rollParts:function(){return this.roll.parts.filter((function(t){return"roll"===t.type}))},bigFail:function(){return ht()(this.rollParts,(function(t){return t.isFail}))},bigCrit:function(){return ht()(this.rollParts,(function(t){return t.isCrit}))}}},vt=mt,gt=(n("f450"),Object(s["a"])(vt,dt,pt,!1,null,"12402df7",null)),_t=gt.exports,yt={name:"RollBox",components:{Roll:_t},data:function(){return{rollExpression:"",rollHistory:[Z("2d6-5")],historyBackPosition:0}},mounted:function(){},computed:{},methods:{error:function(t){this.$buefy.toast.open({duration:1e3,message:t.message,position:"is-top",type:"is-danger"})},roll:function(t){var e=this;if(t){try{var n=Z(t);this.rollHistory.push(n)}catch(r){this.error(r)}this.rollExpression="",this.historyBackPosition=0,this.$nextTick((function(){e.$refs.scroll.scrollTop=e.$refs.scroll.scrollHeight}))}},historyBack:function(){this.historyBackPosition=Math.min(this.historyBackPosition+1,this.rollHistory.length),this.historyBackPosition>0&&(this.rollExpression=this.rollHistory[this.rollHistory.length-this.historyBackPosition].expression),this.cursorEnd()},historyForward:function(){this.historyBackPosition=Math.max(this.historyBackPosition-1,0),this.historyBackPosition>0?this.rollExpression=this.rollHistory[this.rollHistory.length-this.historyBackPosition].expression:this.rollExpression="",this.cursorEnd()},cursorEnd:function(){var t=this.$refs.input.$el.querySelector("input");setTimeout((function(){if("number"===typeof t.selectionStart)t.selectionStart=t.selectionEnd=t.value.length;else if("undefined"!==typeof t.createTextRange){t.focus();var e=t.createTextRange();e.collapse(!1),e.select()}}),0)}}},kt=yt,wt=(n("4708"),Object(s["a"])(kt,ut,ft,!1,null,"9c45d594",null)),xt=wt.exports,Ct={name:"Home",components:{WeaponsTable:rt,RollBox:xt,RandomTable:ct},data:function(){return{itemsTableSpec:{},npcTableSpec:{},personTableSpec:{},patronTableSpec:{},beastTableSpec:{}}},mounted:function(){var t=this;P()("data/random-tables/random-artifacts.json").then((function(e){t.itemsTableSpec=e.data})),P()("data/random-tables/random-npc.json").then((function(e){t.npcTableSpec=e.data})),P()("data/random-tables/random-person.json").then((function(e){t.personTableSpec=e.data})),P()("data/random-tables/random-patron.json").then((function(e){t.patronTableSpec=e.data})),P()("data/random-tables/random-beast.json").then((function(e){t.beastTableSpec=e.data}))},computed:{},methods:{}},St=Ct,Tt=(n("7499"),Object(s["a"])(St,f,d,!1,null,"3d84e283",null)),Ot=Tt.exports;r["a"].use(u["a"]);var jt=[{path:"/",name:"Home",component:Ot}],Et=new u["a"]({routes:jt}),Ft=Et,Pt=(n("b680"),n("e9a7")),Rt=n.n(Pt),At=n("2769"),$t=n.n(At),Bt=n("e740"),Mt=n.n(Bt);function Dt(t){return t.split(" ").map((function(t){return Rt()(t)})).join(" ")}var Ht=[{range:[1,1e3],suffix:"",decimals:0},{range:[1e3,1e6],suffix:"k",decimals:1},{range:[1e6,1e9],suffix:"M",decimals:1},{range:[1e9,1/0],suffix:"B",decimals:1}];function zt(t){if(0===t)return"0";var e=$t()(Ht,(function(e){return e.range[0]&&t<e.range[1]}));return(t/e.range[0]).toFixed(e.decimals)+e.suffix}function Nt(t){t=Math.round(t/1e3);var e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),r=t-3600*e-60*n,a="";return 0!==e&&(e<10&&(e="0"+e),a=e+":"),n<10&&(n="0"+n),r<10&&(r="0"+r),a+="".concat(n,":").concat(r),a}function It(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return t.length<e?t:t.substr(0,e-n.length)+n}var Wt={install:function(t){t.filter("capitalize",Rt.a),t.filter("startCase",Mt.a),t.filter("titleCase",Dt),t.filter("filter",C.a),t.filter("shortNumber",zt),t.filter("truncate",It),t.filter("duration",Nt)}},Ut=n("2f62");r["a"].use(Ut["a"]);var qt=new Ut["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Jt=n("289d");n("767e");r["a"].use(Wt),r["a"].use(Jt["a"],{defaultContainerElement:"#app",defaultIconPack:"fa"}),r["a"].config.productionTip=!1,new r["a"]({router:Ft,store:qt,render:function(t){return t(c)}}).$mount("#app")},7499:function(t,e,n){"use strict";n("c8c8")},"767e":function(t,e,n){},c1dc:function(t,e,n){},c8c8:function(t,e,n){},d6be:function(t,e,n){},e038:function(t,e,n){},f450:function(t,e,n){"use strict";n("c1dc")}});
//# sourceMappingURL=app.580058c5.js.map